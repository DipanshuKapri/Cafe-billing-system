const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ReceiptModal-CWjVpPJn.js","assets/vendor-react-D5J87RGa.js","assets/vendor-BhPjIZ7t.js"])))=>i.map(i=>d[i]);
import{R as w,j as e,r as d,a as T}from"./vendor-react-D5J87RGa.js";import"./vendor-BhPjIZ7t.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(r){if(r.ep)return;r.ep=!0;const a=i(r);fetch(r.href,a)}})();const U="modulepreload",A=function(t){return"/"+t},P={},M=function(s,i,u){let r=Promise.resolve();if(i&&i.length>0){let l=function(f){return Promise.all(f.map(y=>Promise.resolve(y).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),k=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));r=l(i.map(f=>{if(f=A(f),f in P)return;P[f]=!0;const y=f.endsWith(".css"),h=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${h}`))return;const p=document.createElement("link");if(p.rel=y?"stylesheet":U,y||(p.as="script"),p.crossOrigin="",p.href=f,k&&p.setAttribute("nonce",k),document.head.appendChild(p),y)return new Promise((j,N)=>{p.addEventListener("load",j),p.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(l){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=l,window.dispatchEvent(n),!n.defaultPrevented)throw l}return r.then(l=>{for(const n of l||[])n.status==="rejected"&&a(n.reason);return s().catch(a)})};var x=(t=>(t.COFFEE_TEA="Coffee & Tea",t.BEVERAGES="Cold Drinks & Shakes",t.SNACKS="Savory Snacks",t.SANDWICHES="Sandwiches",t.PASTRIES="Pastries & Sweets",t.MISC="Miscellaneous",t))(x||{});const v={[x.COFFEE_TEA]:["cappuccino","latte","espresso","americano","mocha","café","coffee","tea"],[x.BEVERAGES]:["juice","shake","soda","cold drink","water","lime soda","frappe"],[x.SANDWICHES]:["sandwich","burger"],[x.PASTRIES]:["muffin","brownie","cookies","packet","roll","truffle","icecream","croissant"],[x.SNACKS]:["samosa","kachori","patty","omllette","egg","maggi","chips","peanut","kulcha"],[x.MISC]:[]},O=t=>{const s=t.toLowerCase();for(const i in v){if(i===x.MISC)continue;if(v[i].some(r=>s.includes(r)))return i}return x.MISC},B=[{name:"Cappuccino",price:219},{name:"Polo Tea",price:50},{name:"Café latte",price:199},{name:"Orange Juice",price:160},{name:"Bread Omllette with Cheese",price:259},{name:"Bread Omllette",price:229},{name:"Kachori",price:69},{name:"cookies",price:20},{name:"Peanut",price:10},{name:"Samosa",price:50},{name:"Brownie with Icecream",price:120},{name:"Brownie",price:129},{name:"Veg Bread Patty",price:110},{name:"Chips",price:10},{name:"Maggie",price:169},{name:"Chicken Tikka Sandwich",price:269},{name:"Mosambi Juice",price:160},{name:"Boiled Egg",price:79},{name:"Healthy Veg Sandwich",price:189},{name:"Nutty Bunch",price:50},{name:"Cold Drink",price:25},{name:"Paneer Kulcha",price:229},{name:"Aloo Kachori",price:129},{name:"Café Americano",price:189},{name:"Cold coffee",price:189},{name:"Walnut Muffin",price:139},{name:"Paneer Sandwich",price:189},{name:"Cucumber Sandwich",price:99},{name:"Kitkat Shake",price:239},{name:"Brownie Shake",price:189},{name:"Omelette",price:90},{name:"Chicken Seek Sandwich",price:130},{name:"Tomato Cheese Sandwich",price:139},{name:"Truffle",price:120},{name:"Chocolate packet",price:120},{name:"Blueberry Muffin",price:139},{name:"Iced Americano",price:199},{name:"Frappe",price:209},{name:"Egg Sandwich",price:85},{name:"Oreo Shake",price:199},{name:"Espresso single shot",price:120},{name:"Water",price:20},{name:"Lime soda",price:150},{name:"Green Tea",price:80},{name:"Polo Chicken Sandwich",price:229},{name:"Lemonade",price:120},{name:"Veg Burger",price:110},{name:"Café Mocha",price:160}],L=B.map((t,s)=>({id:s+1,name:t.name,price:t.price,category:O(t.name),imageUrl:`https://picsum.photos/seed/${t.name.replace(/\s/g,"")}/200/200`})),R=[{saleId:"cd02c382",date:"2025-04-28",itemName:"Polo Tea",quantity:7,pricePerUnit:50,staff:"Preeti"},{saleId:"9de27dfb",date:"2025-06-02",itemName:"Bread Omllette with Cheese",quantity:1,pricePerUnit:259,staff:"Sashikant"},{saleId:"865e9eb1",date:"2025-06-02",itemName:"Chicken Tikka Sandwich",quantity:18,pricePerUnit:269,staff:"Preeti"},{saleId:"e2977cc6",date:"2025-06-02",itemName:"Veg Bread Patty",quantity:12,pricePerUnit:110,staff:"Preeti"},{saleId:"53890cea",date:"2025-06-06",itemName:"Veg Bread Patty",quantity:12,pricePerUnit:110,staff:"Preeti"},{saleId:"4ed20d37",date:"2025-06-06",itemName:"Veg Bread Patty",quantity:12,pricePerUnit:110,staff:"Preeti"},{saleId:"91321d80",date:"2025-05-27",itemName:"Polo Tea",quantity:10,pricePerUnit:50,staff:null},{saleId:"23f0e884",date:"2025-06-16",itemName:"Paneer Sandwich",quantity:11,pricePerUnit:189,staff:"Preeti"},{saleId:"3daee9a7",date:"2025-06-18",itemName:"cookies",quantity:12,pricePerUnit:20,staff:"Preeti"},{saleId:"58b47ce0",date:"2025-06-27",itemName:"Polo Tea",quantity:10,pricePerUnit:50,staff:"Preeti"},{saleId:"e2baaca8",date:"2025-06-19",itemName:"Paneer Sandwich",quantity:8,pricePerUnit:189,staff:"Preeti"},{saleId:"bfff4624",date:"2025-06-06",itemName:"Boiled Egg",quantity:8,pricePerUnit:79,staff:"Preeti"},{saleId:"83efe3f2",date:"2025-06-06",itemName:"Boiled Egg",quantity:8,pricePerUnit:79,staff:"Preeti"},{saleId:"a874ff77",date:"2025-06-02",itemName:"Mosambi Juice",quantity:8,pricePerUnit:160,staff:"Preeti"},{saleId:"94b79452",date:"2025-06-23",itemName:"cookies",quantity:8,pricePerUnit:20,staff:"Preeti"},{saleId:"eb4e4a5f",date:"2025-06-25",itemName:"Paneer Sandwich",quantity:7,pricePerUnit:189,staff:"Preeti"},{saleId:"d4e85e28",date:"2025-06-27",itemName:"Polo Tea",quantity:8,pricePerUnit:50,staff:"Preeti"},{saleId:"de6523f2",date:"2025-09-20",itemName:"Polo Tea",quantity:7,pricePerUnit:50,staff:"Sashikant"},{saleId:"1d312f8d",date:"2025-06-02",itemName:"Brownie",quantity:6,pricePerUnit:129,staff:"Preeti"},{saleId:"ca9ef147",date:"2025-09-04",itemName:"Polo Tea",quantity:9,pricePerUnit:50,staff:"Preeti"},{saleId:"616b309a",date:"2025-05-29",itemName:"Polo Tea",quantity:9,pricePerUnit:50,staff:null},{saleId:"4496ff41",date:"2025-09-04",itemName:"Polo Tea",quantity:2,pricePerUnit:50,staff:"Soni"},{saleId:"62cd9afc",date:"2025-09-05",itemName:"Cappuccino",quantity:2,pricePerUnit:219,staff:"Sashikant"},{saleId:"d501fdcd",date:"2025-05-01",itemName:"Polo Tea",quantity:2,pricePerUnit:50,staff:"Sashikant"},{saleId:"090dad56",date:"2025-05-01",itemName:"Cappuccino",quantity:5,pricePerUnit:219,staff:"Sashikant"},{saleId:"002f135f",date:"2025-09-04",itemName:"Healthy Veg Sandwich",quantity:2,pricePerUnit:189,staff:"Soni"},{saleId:"eaf4c54f",date:"2025-04-29",itemName:"Samosa",quantity:2,pricePerUnit:50,staff:"Sashikant"},{saleId:"2a7daa39",date:"2025-09-04",itemName:"Paneer Sandwich",quantity:3,pricePerUnit:189,staff:"Soni"},{saleId:"60565f33",date:"2025-06-21",itemName:"Healthy Veg Sandwich",quantity:2,pricePerUnit:189,staff:"Preeti"},{saleId:"fa97b9cc",date:"2025-06-21",itemName:"Paneer Sandwich",quantity:2,pricePerUnit:189,staff:"Preeti"},{saleId:"d0e3d4fd",date:"2025-06-23",itemName:"Polo Tea",quantity:2,pricePerUnit:50,staff:"Preeti"},{saleId:"0d1b3352",date:"2025-06-23",itemName:"Paneer Sandwich",quantity:4,pricePerUnit:189,staff:"Preeti"}],F=.085,$="INV-",ce="Cafe Billing System",de="₹",z=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),V=({item:t,onAddItem:s})=>e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 truncate",children:t.name}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium mt-1",children:["₹",t.price.toFixed(2)]}),e.jsxs("button",{onClick:()=>s(t),"aria-label":`Add ${t.name} to order`,className:"w-full mt-4 bg-indigo-500 text-white py-2 rounded-md font-semibold hover:bg-indigo-600 dark:bg-indigo-600 dark:hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition-colors flex items-center justify-center",children:[e.jsx(z,{}),"Add"]})]}),_=w.memo(V),D=({menuByCategory:t,onAddItem:s})=>{const[i,u]=d.useState("All"),r=d.useMemo(()=>Object.keys(t),[t]);if(r.length===0)return e.jsx("div",{className:"flex items-center justify-center h-64 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:e.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:"No menu items available at this time."})});const a=d.useMemo(()=>r.flatMap(n=>t[n]||[]),[r,t]),l=i==="All"?a:t[i]||[];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[e.jsx("button",{onClick:()=>u("All"),className:`px-3 py-1 rounded-md font-semibold ${i==="All"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"All"}),r.map(n=>e.jsx("button",{onClick:()=>u(n),className:`px-3 py-1 rounded-md font-semibold ${i===n?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:n},n))]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(n=>e.jsx(_,{item:n,onAddItem:s},n.id))})]})},H=w.memo(D),W=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),K=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),X=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),G=({order:t,totals:s,onUpdateQuantity:i,onFinalizeOrder:u,onClearOrder:r})=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 sticky top-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 border-b dark:border-gray-700 pb-4 mb-4",children:"Current Order"}),e.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto pr-2",children:t.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Your order is empty."}):t.map(a=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-200",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["₹",a.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i(a.id,a.quantity-1),className:"p-1 rounded-full bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors","aria-label":`Decrease quantity of ${a.name}`,children:e.jsx(K,{})}),e.jsx("span",{className:"w-8 text-center font-medium dark:text-gray-100",children:a.quantity}),e.jsx("button",{onClick:()=>i(a.id,a.quantity+1),className:"p-1 rounded-full bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors","aria-label":`Increase quantity of ${a.name}`,children:e.jsx(W,{})}),e.jsxs("span",{className:"text-lg font-bold w-16 text-right dark:text-gray-200",children:["₹",(a.price*a.quantity).toFixed(2)]}),e.jsx("button",{onClick:()=>i(a.id,0),className:"text-red-500 hover:text-red-700 p-1","aria-label":`Remove ${a.name} from order`,children:e.jsx(X,{})})]})]},a.id))}),t.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 pt-4 border-t dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-300 mb-2",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["₹",s.subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-300 mb-2",children:[e.jsx("span",{children:"Tax"}),e.jsxs("span",{children:["₹",s.tax.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-bold text-xl text-gray-800 dark:text-gray-100 mt-2",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₹",s.total.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:u,className:"w-full bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-600 transition-colors",children:"Finalize Bill"}),e.jsx("button",{onClick:r,className:"w-full bg-red-500 text-white py-2 rounded-lg font-semibold hover:bg-red-600 transition-colors",children:"Clear Order"})]})]})]}),J=w.memo(G),Y={success:"bg-green-100 border-green-400 text-green-700 dark:bg-green-900 dark:border-green-600 dark:text-green-200",error:"bg-red-100 border-red-400 text-red-700 dark:bg-red-900 dark:border-red-600 dark:text-red-200",info:"bg-blue-100 border-blue-400 text-blue-700 dark:bg-blue-900 dark:border-blue-600 dark:text-blue-200"},Z=()=>e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),Q=()=>e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),ee=({message:t,type:s})=>e.jsxs("div",{className:`flex items-center p-4 rounded-lg shadow-lg border-l-4 animate-slide-in-right ${Y[s]}`,role:"alert",children:[e.jsxs("div",{className:"mr-3",children:[s==="success"&&e.jsx(Z,{}),s==="info"&&e.jsx(Q,{})]}),e.jsx("div",{className:"text-sm font-medium",children:t}),e.jsx("style",{children:`
        @keyframes slide-in-right {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        .animate-slide-in-right {
          animation: slide-in-right 0.3s ease-out forwards;
        }
      `})]}),te=w.memo(ee),ae=(t=3e3)=>{const[s,i]=d.useState([]),u=d.useCallback((r,a="info")=>{const l={id:Date.now(),message:r,type:a};i(n=>[...n,l]),setTimeout(()=>i(n=>n.filter(k=>k.id!==l.id)),t)},[t]);return{toasts:s,showToast:u}},re=w.lazy(()=>M(()=>import("./ReceiptModal-CWjVpPJn.js"),__vite__mapDeps([0,1,2]))),se=()=>{const[t,s]=d.useState([]),[i,u]=d.useState(!1),[r,a]=d.useState([]),[l,n]=d.useState({subtotal:0,tax:0,total:0}),[k,f]=d.useState(""),{toasts:y,showToast:h}=ae(),p=d.useMemo(()=>{const c=t.reduce((o,b)=>o+b.price*b.quantity,0),g=c*F,m=c+g;return{subtotal:c,tax:g,total:m}},[t]),j=d.useCallback(c=>{s(g=>g.find(o=>o.id===c.id)?g.map(o=>o.id===c.id?{...o,quantity:o.quantity+1}:o):[...g,{...c,quantity:1}]),h(e.jsxs(e.Fragment,{children:["Added ",e.jsx("span",{className:"font-semibold",children:c.name})," to order."]}),"success")},[h]),N=d.useCallback((c,g)=>{const m=Math.floor(g);if(!isFinite(m)){console.error("Invalid quantity update attempted:",g);return}m<=0?s(o=>o.filter(b=>b.id!==c)):s(o=>o.map(b=>b.id===c?{...b,quantity:m}:b))},[]),I=d.useCallback(()=>{s([]),h("Order cleared.","info")},[h]),C=d.useCallback(()=>{t.length!==0&&(a(t),n(p),f(`${$}${Date.now()}`),u(!0))},[t,p]),q=d.useCallback(()=>{s([]),u(!1)},[]),E=d.useMemo(()=>{const c=R.reduce((m,o)=>(m[o.itemName]=(m[o.itemName]||0)+o.quantity,m),{});return[...L].sort((m,o)=>(c[o.name]||0)-(c[m.name]||0)).reduce((m,o)=>(m[o.category]||(m[o.category]=[]),m[o.category].push(o),m),{})},[]);return e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen font-sans transition-colors duration-300",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md transition-colors duration-300 sticky top-0 z-10 print:hidden",children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[e.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Cafe Billing System"}),e.jsx("div",{className:"flex items-center gap-2 md:gap-4"})]})}),e.jsx("main",{className:"container mx-auto px-6 py-8 print:hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(H,{menuByCategory:E,onAddItem:j})}),e.jsx("div",{children:e.jsx(J,{order:t,totals:p,onUpdateQuantity:N,onFinalizeOrder:C,onClearOrder:I})})]})}),i&&e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center",children:"Loading..."}),children:e.jsx(re,{order:r,totals:l,invoiceId:k,onClose:q,preferences:{currencySymbol:"₹"}})}),e.jsx("div",{className:"fixed bottom-4 right-4 z-[100] space-y-2",children:y.map(c=>e.jsx(te,{message:c.message,type:c.type},c.id))})]})},S=document.getElementById("root");if(!S)throw new Error("Could not find root element to mount to");const ne=T.createRoot(S);ne.render(e.jsx(w.StrictMode,{children:e.jsx(se,{})}));export{ce as A,de as D};
