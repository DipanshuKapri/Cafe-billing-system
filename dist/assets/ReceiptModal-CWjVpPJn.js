import{R as k,j as t,X as N,P as w,D as v,S as f}from"./vendor-react-D5J87RGa.js";import{A as u,D as o}from"./index-B-AaXLoi.js";import"./vendor-BhPjIZ7t.js";const c=(e,a="â‚¹")=>{try{return`${a}${e.toFixed(2)}`}catch(s){return`${a}${Number(e).toFixed(2)}`}},S=e=>e.toLocaleDateString(),C=e=>e.toLocaleTimeString(),T=(e,a,s)=>{const g=["Item","Quantity","Price","Total"],r=e.map(n=>[n.name,String(n.quantity),String(n.price),String((n.price*n.quantity).toFixed(2))]),p=[["","","Subtotal",String(a.subtotal.toFixed(2))],["","","Tax",String(a.tax.toFixed(2))],["","","Total",String(a.total.toFixed(2))]];return[g,...r,[],["Invoice ID",s],...p].map(n=>n.map(b=>`"${String(b).replace(/"/g,'""')}"`).join(",")).join(`\r
`)},R=({order:e,totals:a,invoiceId:s,onClose:g,preferences:r})=>{var y,h,j;const p=new Date,m=()=>{window.print()},n=()=>{const i=T(e,a,s),x=new Blob([i],{type:"text/csv"}),l=URL.createObjectURL(x),d=document.createElement("a");d.href=l,d.download=`invoice-${s}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(l)},b=async()=>{var l;const i=(l=r==null?void 0:r.currencySymbol)!=null?l:o,x=`Invoice ${s} - ${c(a.total,i)} - ${u}`;if(navigator.share)try{await navigator.share({title:`Invoice ${s}`,text:x,url:window.location.href})}catch(d){console.log("Sharing cancelled or failed")}else try{await navigator.clipboard.writeText(x),alert("Invoice details copied to clipboard!")}catch(d){console.error("Failed to copy to clipboard:",d)}};return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 print:bg-white print:inset-0 print:block print:opacity-100 print:p-0",children:t.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto print:max-h-none print:shadow-none print:rounded-none print:w-full print:max-w-none",children:t.jsxs("div",{className:"p-6 print:p-8 print:bg-white",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6 print:hidden",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Invoice"}),t.jsx("button",{onClick:g,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors","data-close-modal":!0,children:t.jsx(N,{size:24})})]}),t.jsxs("div",{id:"invoice",className:"print:block bg-white text-black",children:[t.jsxs("div",{className:"mb-6 text-center print:text-left print:flex print:justify-between print:items-start print:bg-white",children:[t.jsxs("div",{className:"print:bg-white",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2 print:text-black print:text-2xl",children:u}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Fast and reliable billing system"})]}),t.jsxs("div",{className:"text-right print:text-left print:bg-white mt-4 print:mt-0",children:[t.jsx("p",{className:"text-2xl font-bold text-blue-600 print:text-black print:text-xl",children:"INVOICE"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 print:text-gray-700",children:s})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6 print:grid-cols-2 print:gap-4 print:bg-white",children:[t.jsxs("div",{className:"print:bg-white",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2 print:text-black",children:"Bill To:"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Customer"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Walk-in Customer"})]}),t.jsx("div",{className:"text-right print:text-left print:bg-white",children:t.jsxs("div",{className:"space-y-1 text-sm print:bg-white",children:[t.jsxs("div",{className:"flex justify-between print:block print:bg-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Date:"}),t.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium print:text-black",children:S(p)})]}),t.jsxs("div",{className:"flex justify-between print:block print:bg-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Time:"}),t.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium print:text-black",children:C(p)})]}),t.jsxs("div",{className:"flex justify-between print:block print:bg-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Order #:"}),t.jsxs("span",{className:"text-gray-900 dark:text-gray-100 font-medium print:text-black",children:[e.length," items"]})]})]})})]}),t.jsx("div",{className:"mb-6 print:bg-white",children:t.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden print:border-black print:bg-white",children:t.jsxs("table",{className:"w-full print:bg-white",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 print:bg-gray-200",children:t.jsxs("tr",{className:"print:bg-gray-200",children:[t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900 dark:text-gray-100 print:text-black print:font-bold print:border-b print:border-black",children:"Item"}),t.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-900 dark:text-gray-100 print:text-black print:font-bold print:border-b print:border-black",children:"Qty"}),t.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-gray-100 print:text-black print:font-bold print:border-b print:border-black",children:"Price"}),t.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-900 dark:text-gray-100 print:text-black print:font-bold print:border-b print:border-black",children:"Total"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600 print:divide-black",children:e.map(i=>{var x,l;return t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 print:bg-white print:hover:bg-white",children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-gray-100 print:text-black print:border-b print:border-gray-300",children:i.name}),t.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600 dark:text-gray-400 print:text-black print:border-b print:border-gray-300",children:i.quantity}),t.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-600 dark:text-gray-400 print:text-black print:border-b print:border-gray-300",children:c(i.price,(x=r==null?void 0:r.currencySymbol)!=null?x:o)}),t.jsx("td",{className:"px-4 py-3 text-sm text-right text-gray-900 dark:text-gray-100 font-medium print:text-black print:font-bold print:border-b print:border-gray-300",children:c(i.price*i.quantity,(l=r==null?void 0:r.currencySymbol)!=null?l:o)})]},i.id)})})]})})}),t.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 print:border-t-2 print:border-black print:bg-white",children:t.jsxs("div",{className:"space-y-2 max-w-xs ml-auto print:bg-white",children:[t.jsxs("div",{className:"flex justify-between text-sm print:bg-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Subtotal:"}),t.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium print:text-black print:font-bold",children:c(a.subtotal,(y=r==null?void 0:r.currencySymbol)!=null?y:o)})]}),t.jsxs("div",{className:"flex justify-between text-sm print:bg-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Tax (8.5%):"}),t.jsx("span",{className:"text-gray-900 dark:text-gray-100 font-medium print:text-black print:font-bold",children:c(a.tax,(h=r==null?void 0:r.currencySymbol)!=null?h:o)})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 dark:border-gray-700 pt-2 print:border-t-2 print:border-black print:bg-white",children:[t.jsx("span",{className:"text-gray-900 dark:text-gray-100 print:text-black",children:"Total:"}),t.jsx("span",{className:"text-gray-900 dark:text-gray-100 print:text-black",children:c(a.total,(j=r==null?void 0:r.currencySymbol)!=null?j:o)})]})]})}),t.jsxs("div",{className:"mt-8 text-center print:mt-12 print:bg-white",children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400 print:text-gray-700",children:"Thank you for your business!"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 print:text-gray-700",children:"We hope to see you again soon."})]})]}),t.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-center print:hidden",children:[t.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium","data-print-invoice":!0,children:[t.jsx(w,{className:"w-4 h-4"}),"Print Invoice"]}),t.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium",children:[t.jsx(v,{className:"w-4 h-4"}),"Export CSV"]}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors font-medium",children:[t.jsx(f,{className:"w-4 h-4"}),"Share"]}),t.jsx("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors font-medium",children:"New Order"})]})]})})})},E=k.memo(R);export{E as default};
